<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Appendix B. Packaging Tools</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Debian Python Policy" /><link rel="up" href="index.html" title="Debian Python Policy" /><link rel="prev" href="build_dependencies.html" title="Appendix A. Build Dependencies" /><link rel="next" href="upgrade.html" title="Appendix C. Upgrade Procedure" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix B. Packaging Tools</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="build_dependencies.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="upgrade.html">Next</a></td></tr></table><hr /></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="packaging_tools"></a>Appendix B. Packaging Tools</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="packaging_tools.html#pysupport">B.1. python-support</a></span></dt><dt><span class="section"><a href="packaging_tools.html#pycentral">B.2. python-central</a></span></dt><dt><span class="section"><a href="packaging_tools.html#cdbs">B.3. CDBS</a></span></dt></dl></div><p>
	This section describes the various tools to help package
	Python programs and modules for Debian. Although none of these
	tools are mandatory, their use is strongly encouraged, as the
	above policy has been designed with them in mind (and vice
	versa). This appendix is just an overview. If you use these
	tools, you should read their full documentation.
      </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pysupport"></a>B.1. python-support</h2></div></div></div><p>
	  The python-support system provides a simple way to
	  bytecompile pure Python modules and manage dependencies. It
	  integrates with <code class="literal">debhelper</code>. When using
	  python-support, you should install your modules
	  to <code class="filename">/usr/share/python-support/<em class="replaceable"><code>package</code></em></code>
	  rather than the standard Python directories. python-support
	  will then handle compiling the modules and making
	  appropriate symbolic links for installed Python versions to
	  find them,
	  substitute <code class="literal">${python:Depends}</code>, <code class="literal">${python:Versions}</code>,
	  and <code class="literal">${python:Provides}</code> in your control file, and
	  manage bytecompilation in your postinst/prerm.
	</p><p>
	  To use it, call <code class="filename">dh_pysupport</code>
	  before <code class="filename">dh_python</code>, and make sure you've
	  installed the modules in the right place:
	  </p><pre class="programlisting">
PREFIX := debian/python-package/usr
...
install:
	...
	./setup.py install --no-compile \
		--install-lib=$(PREFIX)/share/python-support/python-package
binary-indep: build install
	...
	dh_pysupport
	dh_python
	...
	  </pre><p>
	</p><p>
	  python-support can also manage private modules. To use this
	  feature, pass a list of directories to be managed by
	  python-support to <code class="filename">dh_pysupport</code>
	  and <code class="filename">dh_python</code>. python-support cannot handle
	  compiled extensions.
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pycentral"></a>B.2. python-central</h2></div></div></div><p>
	  python-central provides another way to manage Python
	  modules. It integrates with <code class="literal">debhelper</code>,
	  but can also be used without it. When using python-central,
	  you should install your modules normally. It will then move
	  them to its private directory, and manage the same things
	  python-support does.
	</p><p>
	  To use it, call <code class="filename">dh_pycentral</code>
	  before <code class="filename">dh_python</code>:
	  </p><pre class="programlisting">
install:
	...
	./setup.py install

binary-indep: build install
	...
	dh_pycentral
	dh_python
	...
	  </pre><p>
	</p><p>
	  python-central can handle compiled extensions for multiple
	  Python versions. If you want python-central to handle
	  private modules, you must pass the list of directories
	  containing them to <code class="filename">dh_python</code> (but
	  not <code class="filename">dh_pycentral</code>).
	</p><p>
          If python-central should not move the files to its private
          directory, use<code class="filename">DH_PYCENTRAL=nomove dh_pycentral</code>
          instead.
	</p><p>
          Examples for source packages using python-central are
          pyenchant, python-imaging (modules and extensions),
          pyparallel (modules only).
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="cdbs"></a>B.3. CDBS</h2></div></div></div><p>
	  FIXME: Someone familiar with CDBS should write this part.
	</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="build_dependencies.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="upgrade.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix A. Build Dependencies </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Appendix C. Upgrade Procedure</td></tr></table></div></body></html>